import { Position } from '@xyflow/react'; 
import type { RoadmapData, RoadmapEdgeData, RoadmapNodeData } from '../../types/roadmap';

// COLOR PALETTE
const COLORS = {
  intro: '#FFFACD',
  core: '#FFEB3B',
  advanced: '#E8E8E8',
  white: '#FFFFFF',
};

// NODES
const gameDevNodes: RoadmapNodeData[] = [
  {
    id: 'g-c-cpp-csharp',
    title: 'C# / C++',
    description: 'Core programming languages for game development',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 800 },
    resources: [
      { type: 'article', label: 'Learn C++', url: 'https://drive.google.com/drive/u/0/my-drive' },
      { type: 'video', label: 'C++ Game Dev Basics', url: '#' },
    ],
  },
  {
    id: 'g-rust-python',
    title: 'Rust / Python',
    description: 'Alternative languages for game development',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 850 },
    resources: [
      { type: 'article', label: 'Rust Game Dev', url: '#' },
      { type: 'article', label: 'Python for Games', url: '#' },
    ],
  },
  {
    id: 'g-gdscript',
    title: 'GDScript',
    description: 'Godot engine scripting language',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 900 },
    resources: [{ type: 'official', label: 'GDScript Docs', url: '#' }],
  },
  {
    id: 'g-linear-algebra',
    title: 'Linear Algebra',
    description: 'Vectors, matrices, transformations for 3D graphics',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 180 },
    resources: [
      { type: 'article', label: 'Linear Algebra for Games', url: '#' },
      { type: 'video', label: 'Kimberly Brehm Full Course', url: '#' },
    ],
  },
  {
    id: 'g-vector',
    title: 'Vector',
    description: 'Magnitude and direction - position, velocity, acceleration',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 230 },
    resources: [
      { type: 'article', label: 'Vectors for Game Dev', url: '#' },
      { type: 'video', label: 'Sebastian Lague', url: '#' },
    ],
  },
  {
    id: 'g-matrix',
    title: 'Matrix',
    description: '4x4 transformations - scale, rotate, translate',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 180, y: 230 },
    resources: [{ type: 'article', label: 'Matrix Algebra & Games', url: '#' }],
  },
  {
    id: 'g-linear-transformation',
    title: 'Linear\nTransformation',
    description: 'Mathematical transformations preserving vector operations',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 180, y: 180 },
    resources: [{ type: 'article', label: 'Linear Transformation', url: '#' }],
  },
  {
    id: 'g-geometry',
    title: 'Geometry',
    description: 'Spatial math for collision, rendering, movement',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 280 },
    resources: [{ type: 'article', label: 'Game Geometry', url: '#' }],
  },
  {
    id: 'g-affine-space',
    title: 'Affine Space',
    description: 'Points and vectors - comfortable geometric structure',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 180, y: 280 },
    resources: [{ type: 'article', label: 'Understanding Affine Space', url: '#' }],
  },
  {
    id: 'g-affine-transformation',
    title: 'Affine\nTransformation',
    description: 'Translation, scaling, rotation - preserves parallel lines',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 330 },
    resources: [{ type: 'article', label: 'Affine Transformations', url: '#' }],
  },
  {
    id: 'g-projection',
    title: 'Projection',
    description: 'Orthographic & Perspective - 3D to 2D rendering',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 180, y: 330 },
    resources: [{ type: 'article', label: 'Projection in Games', url: '#' }],
  },
  {
    id: 'g-orientation',
    title: 'Orientation',
    description: 'Pitch, yaw, roll - Euler angles & Quaternions',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 180, y: 380 },
    resources: [{ type: 'article', label: 'Orientation of Character', url: '#' }],
  },
  {
    id: 'g-perspective',
    title: 'Perspective',
    description: 'One-point & two-point perspective projection',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 380 },
    resources: [{ type: 'article', label: 'Perspective in Games', url: '#' }],
  },
  {
    id: 'g-quaternion',
    title: 'Quaternion',
    description: 'Complex rotations - avoid Gimbal lock',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 180, y: 430 },
    resources: [
      { type: 'article', label: 'Understanding Quaternions', url: '#' },
      { type: 'video', label: 'Quaternions Explained', url: '#' },
    ],
  },
  {
    id: 'g-orthogonal',
    title: 'Orthogonal',
    description: 'Orthographic projection - no perspective',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 430 },
    resources: [{ type: 'article', label: 'Orthogonal Projection', url: '#' }],
  },
  {
    id: 'g-euler-angle',
    title: 'Euler Angle',
    description: 'Three sequential rotations - alpha, beta, gamma',
    level: 'intro',
    color: COLORS.intro,
    position: { x: 20, y: 480 },
    resources: [{ type: 'article', label: 'Euler Angles', url: '#' }],
  },

  // CENTER COLUMN - MAIN PATH
  {
    id: 'g-client-side-dev',
    title: 'Client Side Development',
    description: 'Graphics rendering, input handling, UI on player machines',
    level: 'core',
    color: COLORS.core,
    position: { x: 510, y: 100 },
    resources: [{ type: 'article', label: 'Client Side Architecture', url: '#' }],
  },
  {
    id: 'g-game-mathematics',
    title: 'Game Mathematics',
    description: 'Geometry, logic, algebra, trigonometry for game mechanics',
    level: 'core',
    color: COLORS.core,
    position: { x: 510, y: 300 },
    resources: [
      { type: 'article', label: 'Game Math', url: '#' },
      { type: 'article', label: 'Master Game Physics', url: '#' },
    ],
  },
  {
    id: 'g-game-engine',
    title: 'Game Engine',
    description: 'Unity 3D, Unreal Engine, Godot - Choose your platform',
    level: 'core',
    color: COLORS.core,
    position: { x: 310, y: 640 },
    resources: [
      { type: 'official', label: 'Unity', url: '#' },
      { type: 'official', label: 'Unreal Engine', url: '#' },
      { type: 'official', label: 'Godot', url: '#' },
    ],
  },
  {
    id: 'g-programming-languages',
    title: 'Programming Languages',
    description: 'C#, C++, Python, GDScript for game scripting',
    level: 'core',
    color: COLORS.core,
    position: { x: 310, y: 840 },
    resources: [{ type: 'article', label: 'Language Comparison', url: '#' }],
  },

  // CURVES
  {
    id: 'g-curve',
    title: 'Curve',
    description: 'Smooth paths and animations - Splines, Bezier',
    level: 'white',
    color: COLORS.white,
    position: { x: 510, y: 400 },
    resources: [{ type: 'article', label: 'Curves in Games', url: '#' }],
  },
  {
    id: 'g-spline',
    title: 'Spline',
    description: 'Smooth curves connecting multiple points',
    level: 'white',
    color: COLORS.white,
    position: { x: 420, y: 450 },
    resources: [{ type: 'article', label: 'Spline Mathematics', url: '#' }],
  },
  {
    id: 'g-hermite',
    title: 'Hermite',
    description: 'Polynomial interpolation with tangent control',
    level: 'white',
    color: COLORS.white,
    position: { x: 590, y: 450 },
    resources: [{ type: 'article', label: 'Hermite Interpolation', url: '#' }],
  },
  {
    id: 'g-bezier',
    title: 'Bezier',
    description: 'Control point curves - widely used in graphics',
    level: 'white',
    color: COLORS.white,
    position: { x: 420, y: 500 },
    resources: [
      { type: 'article', label: 'Bezier Curves for Games', url: '#' },
      { type: 'video', label: 'Bezier Explained', url: '#' },
    ],
  },
  {
    id: 'g-catmull-rom',
    title: 'Catmull-Rom',
    description: 'Cubic interpolating spline - smooth curves',
    level: 'white',
    color: COLORS.white,
    position: { x: 590, y: 500 },
    resources: [{ type: 'article', label: 'Catmull Rom Spline', url: '#' }],
  },

  // PHYSICS
  {
    id: 'g-game-physics',
    title: 'Game Physics',
    description: 'Gravity, collisions, forces - Simulate real-world physics',
    level: 'core',
    color: COLORS.core,
    position: { x: 890, y: 700 },
    resources: [
      { type: 'article', label: 'Game Physics', url: '#' },
      { type: 'article', label: 'Master Physics', url: '#' },
    ],
  },

  // PHYSICS DETAILS
  {
    id: 'g-center-of-mass',
    title: 'Center of Mass',
    description: 'Average position weighted by mass - affects movement',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 800, y: 240 },
    resources: [{ type: 'article', label: 'Center of Mass', url: '#' }],
  },
  {
    id: 'g-moment-of-inertia',
    title: 'Moment of Inertia',
    description: 'Rotational inertia - resistance to rotation',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 960, y: 240 },
    resources: [{ type: 'article', label: 'Moment of Inertia', url: '#' }],
  },
  {
    id: 'g-acceleration',
    title: 'Acceleration',
    description: 'Rate of change in velocity - F=ma',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 800, y: 290 },
    resources: [{ type: 'article', label: 'Acceleration in Games', url: '#' }],
  },
  {
    id: 'g-joints',
    title: 'Joints',
    description: 'Connections between objects - hinges, springs',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 960, y: 290 },
    resources: [
      { type: 'official', label: 'Joints in Unity', url: '#' },
      { type: 'article', label: 'Character Rigging', url: '#' },
    ],
  },
  {
    id: 'g-restitution',
    title: 'Restitution',
    description: 'Bounciness - elasticity of collisions',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 800, y: 340 },
    resources: [{ type: 'article', label: 'Restitution Property', url: '#' }],
  },
  {
    id: 'g-force',
    title: 'Force',
    description: 'Influence causing movement - gravity, friction',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 960, y: 340 },
    resources: [{ type: 'article', label: 'Physics for Game Dev', url: '#' }],
  },
  {
    id: 'g-buoyancy',
    title: 'Buoyancy',
    description: 'Upward force from fluid - swimming, floating',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 800, y: 390 },
    resources: [{ type: 'article', label: 'Buoyancy in Games', url: '#' }],
  },
  {
    id: 'g-friction',
    title: 'Friction',
    description: 'Resistance to movement - terrain-dependent',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 960, y: 390 },
    resources: [
      { type: 'article', label: 'Friction in Game Dev', url: '#' },
      { type: 'video', label: 'Friction Explained', url: '#' },
    ],
  },
  {
    id: 'g-linear-velocity',
    title: 'Linear Velocity',
    description: 'Rate of position change - speed and direction',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 800, y: 440 },
    resources: [{ type: 'article', label: 'Linear Velocity', url: '#' }],
  },
  {
    id: 'g-dynamics',
    title: 'Dynamics',
    description: 'Movement & interaction over time - kinematics, forces',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 960, y: 440 },
    resources: [{ type: 'article', label: 'Dynamics in Physics', url: '#' }],
  },
  {
    id: 'g-collision-detection',
    title: 'Collision Detection',
    description: 'Broad phase, narrow phase, SAT, GJK algorithms',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 890, y: 790 },
    resources: [{ type: 'article', label: 'Collision Detection', url: '#' }],
  },
  {
    id: 'g-ccd',
    title: 'CCD',
    description: 'Continuous collision detection - prevent tunneling',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 890, y: 840 },
    resources: [{ type: 'article', label: 'Continuous Collision', url: '#' }],
  },
  {
    id: 'g-intersection',
    title: 'Intersection',
    description: 'Exact collision point determination',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 700, y: 840 },
    resources: [{ type: 'article', label: 'Intersection Tests', url: '#' }],
  },
  {
    id: 'g-convexity',
    title: 'Convexity',
    description: 'Convex vs concave shapes in collision',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 700, y: 890 },
    resources: [{ type: 'article', label: 'Convexity in Games', url: '#' }],
  },
  {
    id: 'g-sat',
    title: 'SAT',
    description: 'Separating Axis Theorem - polygon collision',
    level: 'white',
    color: COLORS.white,
    position: { x: 500, y: 790 },
    resources: [{ type: 'article', label: 'Separating Axis Theorem', url: '#' }],
  },
  {
    id: 'g-gjk',
    title: 'GJK',
    description: 'Gilbert-Johnson-Keerthi - convex intersection',
    level: 'white',
    color: COLORS.white,
    position: { x: 500, y: 840 },
    resources: [{ type: 'article', label: 'GJK Algorithm', url: '#' }],
  },
  {
    id: 'g-epa',
    title: 'EPA',
    description: 'Expanding Polytope - penetration depth',
    level: 'white',
    color: COLORS.white,
    position: { x: 500, y: 890 },
    resources: [{ type: 'article', label: 'EPA Algorithm', url: '#' }],
  },
  {
    id: 'g-convex',
    title: 'Convex',
    description: 'Convex shape detection and handling',
    level: 'white',
    color: COLORS.white,
    position: { x: 700, y: 990 },
    resources: [{ type: 'article', label: 'Convex in Games', url: '#' }],
  },
  {
    id: 'g-concave',
    title: 'Concave',
    description: 'Concave shape handling - more complex',
    level: 'white',
    color: COLORS.white,
    position: { x: 700, y: 1040 },
    resources: [{ type: 'article', label: 'Concave Shapes', url: '#' }],
  },
  {
    id: 'g-convex-hull',
    title: 'Convex Hull',
    description: 'Smallest convex polygon - simplify collision',
    level: 'white',
    color: COLORS.white,
    position: { x: 500, y: 990 },
    resources: [{ type: 'article', label: 'Convex Hull', url: '#' }],
  },
  {
    id: 'g-convex-decomposition',
    title: 'Convex\nDecomposition',
    description: 'Break concave shapes into convex parts',
    level: 'white',
    color: COLORS.white,
    position: { x: 500, y: 1040 },
    resources: [{ type: 'article', label: 'Convex Decomposition', url: '#' }],
  },

  // ENGINES
  {
    id: 'g-unity-3d',
    title: 'Unity 3D',
    description: 'Versatile cross-platform game engine',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 20, y: 570 },
    resources: [
      { type: 'official', label: 'Unity Docs', url: '#' },
      { type: 'video', label: 'Unity in 100 Seconds', url: '#' },
    ],
  },
  {
    id: 'g-unreal-engine',
    title: 'Unreal Engine',
    description: 'High-performance engine for AAA games',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 20, y: 620 },
    resources: [
      { type: 'official', label: 'Unreal Docs', url: '#' },
      { type: 'video', label: 'Unreal in 100 Seconds', url: '#' },
    ],
  },
  {
    id: 'g-native',
    title: 'Native',
    description: 'C++/Rust game development without engine',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 20, y: 670 },
    resources: [
      { type: 'article', label: 'Game Dev witssh C++', url: '#' },
      { type: 'article', label: 'Building with Rust', url: '#' },
    ],
  },
  {
    id: 'g-godot',
    title: 'Godot',
    description: 'Open-source, feature-rich game engine',
    level: 'advanced',
    color: COLORS.advanced,
    position: { x: 20, y: 720 },
    resources: [
      { type: 'official', label: 'Godot Docs', url: '#' },
      { type: 'video', label: 'Godot Tutorial', url: '#' },
    ],
  },
];

// EDGES
const gameDevEdges: RoadmapEdgeData[] = [
  { id: 'e15', source: 'g-linear-algebra', target: 'g-game-mathematics' },
  { id: 'e16', source: 'g-game-mathematics', target: 'g-game-engine' },
  { id: 'e17', source: 'g-game-engine', target: 'g-programming-languages' },
  { id: 'e18', source: 'g-client-side-dev', target: 'g-game-mathematics' },

  { id: 'e19', source: 'g-game-mathematics', target: 'g-curve' },
  { id: 'e24', source: 'g-game-mathematics', target: 'g-game-physics' },

  { id: 'e34', source: 'g-game-physics', target: 'g-linear-velocity' },
  { id: 'e35', source: 'g-game-physics', target: 'g-dynamics' },

  // NOTE: you had a duplicate e35; changed to e36 so IDs are unique.
  { id: 'e36', source: 'g-game-physics', target: 'g-collision-detection' },

  { id: 'e38', source: 'g-ccd', target: 'g-intersection' },
  { id: 'e39', source: 'g-ccd', target: 'g-convexity' },
  { id: 'e40', source: 'g-convexity', target: 'g-sat' },
  { id: 'e42', source: 'g-gjk', target: 'g-epa' },
  { id: 'e46', source: 'g-concave', target: 'g-convex-decomposition' },
  { id: 'e47', source: 'g-convex-hull', target: 'g-convex' },

  { id: 'e48', source: 'g-game-engine', target: 'g-unity-3d' },
  { id: 'e49', source: 'g-game-engine', target: 'g-unreal-engine' },
  { id: 'e50', source: 'g-game-engine', target: 'g-native' },
  { id: 'e51', source: 'g-game-engine', target: 'g-godot' },

  { id: 'e52', source: 'g-convexity', target: 'g-convex' },
  { id: 'e53', source: 'g-programming-languages', target: 'g-rust-python' },
  { id: 'e54', source: 'g-programming-languages', target: 'g-gdscript' },
  { id: 'e55', source: 'g-programming-languages', target: 'g-c-cpp-csharp' },

  // NOTE: you referenced g-server-side but there is no node with that id.
  // Keep it removed for now to avoid an edge pointing to nothing.
  // { id: 'e52', source: 'g-server-side', target: 'g-game-physics' },
];

export const gameDevRoadmap: RoadmapData = {
  id: 'game-dev',
  title: 'Game Developer',
  subtitle: 'Roadmap to becoming a Game Developer in 2025',
  nodes: gameDevNodes,
  edges: gameDevEdges,
};
